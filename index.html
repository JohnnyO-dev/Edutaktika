<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Choose Role</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
        :root {
            --primary: #3f4d34;
            --secondary: #ffe082;
            --accent: #f5bda8;
            --mint: #fff;
        }
        /* Global font consistency */
        *, *::before, *::after {
            font-family: 'Baloo 2', 'Comic Sans MS', cursive, sans-serif;
        }
        /* Preserve FontAwesome weight */
        .fa, .fas, .far, .fal, .fab { font-family: 'Font Awesome 6 Free'; }
        .fas, .fa-solid { font-weight: 900; }
        html, body {
            height: 100vh;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: var(--mint);
            font-family: 'Baloo 2', 'Comic Sans MS', cursive, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .main-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100vw;
            height: 100vh;
            background: var(--mint);
            box-sizing: border-box;
            flex-wrap: wrap;
            overflow: hidden;
        }
        .left-content {
            flex: 1 1 340px;
            padding: 60px 40px 60px 7vw;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-width: 260px;
            max-width: 600px;
            margin-left: 2vw;
        }
        .left-content h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: #111;
            margin-bottom: 18px;
            line-height: 1.1;
        }
        .left-content p {
            color: #111;
            font-size: 1.1rem;
            margin-bottom: 32px;
            max-width: 420px;
            letter-spacing: 0.02em;
        }
        .role-btns {
            display: flex;
            flex-direction: column;
            gap: 22px;
            max-width: 320px;
        }
        .role-btn {
            padding: 18px 0;
            border: 2px solid var(--primary);
            border-radius: 12px;
            font-size: 1.25rem;
            font-weight: 800;
            cursor: pointer;
            background: #baffd9;
            color: #111;
            letter-spacing: 1px;
            width: 100%;
            margin: 0 auto;
            box-shadow: 2px 2px 0 #baffd9, 0 2px 8px #0001;
            transition: background 0.18s, color 0.18s, box-shadow 0.18s;
        }
        .role-btn:hover {
            background: var(--secondary);
            color: #111;
            box-shadow: 2px 2px 0 var(--secondary), 0 4px 16px #0002;
        }
        .role-btn:active {
            background: var(--accent);
            color: var(--primary);
        }
        .role-btns form {
            margin: 0;
        }
        .right-visual {
            flex: 1 1 320px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 220px;
            min-height: 220px;
            padding: 40px 7vw 40px 0;
            margin-right: 2vw;
            position: relative;
        }
        .visual-img {
            width: 100%;
            max-width: 480px;
            height: auto;
            display: block;
            animation: swing 3s ease-in-out infinite;
            transform-origin: 50% 0%;
        }
        @keyframes swing {
            0%   { transform: rotate(0deg);}
            20%  { transform: rotate(8deg);}
            50%  { transform: rotate(-8deg);}
            80%  { transform: rotate(8deg);}
            100% { transform: rotate(0deg);}
        }
        /* Tablet */
        @media (max-width: 900px) {
            .main-container {
                flex-direction: column;
                padding: 0;
            }
            .left-content {
                padding: 40px 8vw 20px 8vw;
                align-items: center;
                text-align: center;
                margin-left: 0;
                max-width: 100vw;
            }
            .right-visual {
                margin-right: 0;
                padding: 20px 0 40px 0;
            }
            .visual-img {
                max-width: 340px;
            }
        }
        /* Mobile */
        @media (max-width: 600px) {
            .main-container {
                flex-direction: column;
                padding: 0;
            }
            .left-content {
                padding: 24px 4vw 12px 4vw;
                min-width: 0;
            }
            .right-visual {
                min-width: 0;
                padding: 10px 0 20px 0;
            }
            .visual-img {
                max-width: 90vw;
            }
            .role-btn {
                font-size: 1rem;
                padding: 14px 0;
            }
        }
    </style>
</head>
<body>
    <!-- Educational Use Disclaimer: not affiliated, for learning -->
    <div id="edu-disclaimer" style="position:fixed;top:0;left:0;right:0;background:#1d1d1d;color:#fafafa;font:500 13px/1.4 system-ui,Arial,sans-serif;padding:8px 12px;text-align:center;z-index:10000;box-shadow:0 2px 6px #0005;">
        This project uses Firebase for demo purposes only. Educational / non-commercial. Not affiliated with any original brand. Do not submit sensitive personal data.
    </div>
    <script>(function(){function pad(){document.body.style.paddingTop=(document.getElementById('edu-disclaimer').offsetHeight+4)+"px";} if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',pad);}else{pad();}})();</script>
    <div class="main-container">
        <div class="left-content">
            <h1>Kids Learn<br>Faster Visually</h1>
            <p>
                Did you know that kids learn a significant amount more than kids who learn the traditional way?
            </p>
            <div class="role-btns">
                <form action="Teacher/logreg.html" method="get">
                    <button type="submit" class="role-btn">I'M A TEACHER</button>
                </form>
                <form action="Student/logreg.html" method="get">
                    <button type="submit" class="role-btn">I'M A STUDENT</button>
                </form>
            </div>
        </div>
        <div class="right-visual">
            <img src="images/edutaktika.png" alt="Visual Learning" class="visual-img" />
        </div>
    </div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    function checkAuthReady(cb) {
        if (window.firebase && firebase.auth) cb();
        else setTimeout(() => checkAuthReady(cb), 100);
    }
    checkAuthReady(async function() {
        firebase.auth().onAuthStateChanged(async function(user) {
            if (user) {
                const uid = user.uid;
                const db = firebase.database();
                // Check if teacher
                const teacherSnap = await db.ref('teachers/' + uid).once('value');
                if (teacherSnap.exists() && teacherSnap.val().approved) {
                    window.location.href = "Teacher/homepage.html";
                    return;
                }
                // Check if student
                const studentSnap = await db.ref('students/' + uid).once('value');
                if (studentSnap.exists()) {
                    window.location.href = "Student/homepage.html";
                    return;
                }
                // If logged in but not a teacher or student, sign out and reload index
                await firebase.auth().signOut();
                location.reload();
            } else {
                // Not logged in, stay on index (or reload to ensure clean state)
                // location.reload();
            }
        });
    });
});
</script>
<!-- Add Firebase SDKs and initialize Firebase before your script -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script>
  // TODO: Replace the following with your app's Firebase project configuration
  const firebaseConfig = {
    apiKey: "AIzaSyB5BbeLLvPX8l1c4Lq0f-CmIUml4hQOQlE",
    authDomain: "edutaktika.firebaseapp.com",
    databaseURL: "https://edutaktika-default-rtdb.firebaseio.com",
    projectId: "edutaktika",
    storageBucket: "edutaktika.appspot.com",
    messagingSenderId: "676848575316",
    appId: "1:676848575316:web:f78f8c0f83bf3d9dfb5ec1",
    measurementId: "G-X3GT5TNN87"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const auth = firebase.auth();
</script>
   
</body>
</html>